<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>TinyTest: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TinyTest
   </div>
   <div id="projectbrief">A light-weight unit testing framework for C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TinyTest Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>What is TinyTest? </h2>
<p>TinyTest is a light-weight unit testing framework for C++ projects.</p>
<p>These days, the software I write is generally command-line applications for use in Unix-like environments. Generally these programs are light-weight. In the usual Unix philosophy, the packages I write tend to contain many small, focused programs that can be chained together to achieve more advanced goals. As a result, the unit tests I write are generally small, and require only simple functionality. The vast majority of these tests simply run a small peice of code and check that the result matches some pre-computed expected value (to some tolerance). I generally like to include these unit tests with the distribution of the software I write. There are a couple of advantages to doing this: (1) keeping the tests bundled with the software project means they are easily updated when changes are made; (2) it means the distirbuton can easily be tested on the target platform(s) in exactly the same form that it will be delivered to users; and (3) users can immediately verify that the distribution works for them. I don't think this is confusing or onerous for the user because (1) they don't have to do it (I always make that clear); and (2) mostly these projects are targeted to an intermediate-to-advanced user base &ndash; after all, I'm expecting them to be able to handle 'make install', so 'make test' isn't much of a stretch.</p>
<p>The problem with all this is that most unit testing frameworks are too heavy. They end up accounting for too great a percentage of the code-base in the project, and somehow that feels wrong. It's like I'm distributing a unit testing framework with some extra functionality embedded. So I decided to write my own. The design philosophy was to keep the code as small and simple as possible. As a result, TinyTest clocks in at just a few hundred lines of code. It's functionality is simple, but it does everything I need, and maybe everything you need too.</p>
<h2>What can TinyTest do? </h2>
<p>I based TinyTest on my use of Google Test, so I've tried to reproduce the features of that package that I liked. This initial release contains just the basics. More may come later as and when I find it useful to add them. TinyTest supports automatic test detection. You don't need to register any tests, as long as you use the included macros to define the tests (see below).</p>
<p>TinyTest also contains a set of macros for testing the values computed by your unit tests. This release contains the following macros:</p>
<p><b><a class="el" href="_tiny_test_8hpp.html#a4dd85142e8955bd0b36801f74aad5224" title="TODO. ">EXPECT_EQUAL(A,B)</a></b> Test whether two values are exactly identical. Typical usage would be <a class="el" href="_tiny_test_8hpp.html#a4dd85142e8955bd0b36801f74aad5224" title="TODO. ">EXPECT_EQUAL(someFunction(), 5)</a>, where someFunction computes a value (integer, probably) and you expect it to compute the value 5 on this call.</p>
<p><b><a class="el" href="_tiny_test_8hpp.html#a16e4cb037161beddc807347a12cd3d8a" title="TODO. ">EXPECT_NOT_EQUAL(A,B)</a></b> Same as EXPECT_EQUAL really, except that it fails if the values are exactly equal and passes if they are not.</p>
<p><b><a class="el" href="_tiny_test_8hpp.html#adbe3b51bf14b9ed6b3a71c1dfc54d07e" title="TODO. ">EXPECT_NEAR(A,B,TOL)</a></b> Useful for comparing floating point numbers, where A and B are considered equal if the difference between them does not exceed TOL.</p>
<p><b><a class="el" href="_tiny_test_8hpp.html#a085d4cd46707bbe5680a243d96bc8bce" title="TODO. ">EXPECT_NEAR_DEF(A,B)</a></b> Same as <a class="el" href="_tiny_test_8hpp.html#adbe3b51bf14b9ed6b3a71c1dfc54d07e" title="TODO. ">EXPECT_NEAR(A,B,TOL)</a>, but with a default value for TOL (presently 1e-20; in future I may provide a mechanism for changing this, but for now it is fixed).</p>
<h2>How do I use TinyTest? </h2>
<p>It's pretty easy. All you need to do is include the files <a class="el" href="_tiny_test_8cpp.html" title="This is the driver for TinyTest. You should link this with your tests and it will discover and run al...">TinyTest.cpp</a> and <a class="el" href="_tiny_test_8hpp.html" title="This file contains most of the code for TinyTest, including the macros for test definition and condit...">TinyTest.hpp</a> in your project (usually I just include the whole directory, but really just those two files are needed). To write a test set, you make a file something like myTests.cpp. In this, you must #include <a class="el" href="_tiny_test_8hpp.html" title="This file contains most of the code for TinyTest, including the macros for test definition and condit...">TinyTest.hpp</a> (and whatever else you need to run your code). Then you write your tests like this (in myTests.cpp): </p><pre class="fragment">TEST(myTest) {
  // whatever code you need here for your test

  // check the compute values match what you expect
  EXPECT_EQUAL(1,1);
  EXPECT_NOT_EQUAL(0,1);
}
</pre><p>You define as many of these as you want. You don't need any other code, TinyTest will automatically find your tests, run each one and print the result (pass or fail) to stdout.</p>
<p>To build your test do something like this:</p>
<blockquote class="doxtable">
<p>g++ -o myTests myTests.cpp /path/to/TinyTest/TinyTest.cpp -I/path/to/TinyTest/ </p>
</blockquote>
<p>Now run your tests like this</p>
<blockquote class="doxtable">
<p>./myNewTest </p>
</blockquote>
<p>I tend to automate this process in my projects by adding it to the Makefile as the target 'test'. If you want an example, take a look at the file <a class="el" href="_test_tiny_test_8cpp.html" title="This file defines a set of standard tests to run on the comparison macros that come with TinyTest...">TestTinyTest.cpp</a> included in the distribution. This just runs a set of simple tests using TinyTest, some of which are expected to pass, some of which are expeted to fail. In the included Makefile, I build and run these tests then compare the output to what I expect (when 'make test' is execute). Actually, that's a regression test, you would normally only include tests you expect to pass, but since I wanted to check that tests fail when they should, I have done so here. It's still a good example of how to write and compile a simple test suite.</p>
<h2>Contacts and bug reports </h2>
<p>Philip J. Uren <a href="#" onclick="location.href='mai'+'lto:'+'phi'+'li'+'p.u'+'re'+'n@g'+'ma'+'il.'+'co'+'m'; return false;">phili<span style="display: none;">.nosp@m.</span>p.ur<span style="display: none;">.nosp@m.</span>en@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a></p>
<p>If you found a bug or mistake in this project, I would like to know about it. Before you send me the bug report though, please check the following:</p>
<ol type="1">
<li>Are you using the latest version? The bug you found may already have been fixed.</li>
<li>Check that your input is in the correct format and you have selected the correct options.</li>
<li>Please reduce your input to the smallest possible size that still produces the bug; I will need your input data to reproduce the problem, and the smaller you can make it, the easier it will be for both of us.</li>
</ol>
<h2>License </h2>
<p>TinyTest Copyright (C) 2014 Philip J. Uren</p>
<p>This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version.</p>
<p>This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 5 2014 17:28:21 for TinyTest by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
