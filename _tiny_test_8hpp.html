<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>TinyTest: TinyTest.hpp File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">TinyTest
   
   </div>
   <div id="projectbrief">A light-weight unit testing framework for C++</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">TinyTest.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains most of the code for TinyTest, including the macros for test definition and condition checking, the classes for automatic test registration and the exceptions. You should include this file at the top of your test suite.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;exception&gt;</code><br/>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;string&gt;</code><br/>
<code>#include &lt;vector&gt;</code><br/>
<code>#include &lt;sstream&gt;</code><br/>
<code>#include &lt;cassert&gt;</code><br/>
<code>#include &lt;cmath&gt;</code><br/>
</div>
<p><a href="_tiny_test_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tiny_test_exception.html">TinyTestException</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Exceptions of this type are thrown whenever a test fails.  <a href="class_tiny_test_exception.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_test_case.html">TestCase</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is the base test case class. User defined test cases will extend this class (though they won't know it necessarily, since it's done automatically for them using a macro).  <a href="class_test_case.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_test_set.html">TestSet</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This class defines a Test Set, which is really just a collection of test cases. Uses the factory pattern; objects of this class should not be directly constructed. When one is needed, call <a class="el" href="class_test_set.html#a73d91e7e126488172e1700871d132d5c" title="get a reference to a test set; at present, we maintain only one test set. On the first call...">getTestSet()</a>.  <a href="class_test_set.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_test_case_adder.html">TestCaseAdder</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a helper class that facilitates automatic registration of tests. When one of these is constructed, it is given a <a class="el" href="class_test_set.html" title="This class defines a Test Set, which is really just a collection of test cases. Uses the factory patt...">TestSet</a> pointer (in reality, a pointer to an object that is a subclass of <a class="el" href="class_test_set.html" title="This class defines a Test Set, which is really just a collection of test cases. Uses the factory patt...">TestSet</a>), which it registers with a static test set maintained by the <a class="el" href="class_test_set.html" title="This class defines a Test Set, which is really just a collection of test cases. Uses the factory patt...">TestSet</a> class.  <a href="class_test_case_adder.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_tiny_test_8hpp.html#a4dd85142e8955bd0b36801f74aad5224">EXPECT_EQUAL</a>(A, B)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether two variables A and B are exactly equal. Throw a <a class="el" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a> if they aren't.  <a href="#a4dd85142e8955bd0b36801f74aad5224"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_tiny_test_8hpp.html#a82166f2051a14b197b357ee6d8972b9e">EXPECT_EQUAL_STL_CONTAINER</a>(A, B)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether two random-access containers A and B are equal. Throw a <a class="el" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a> if they aren't.  <a href="#a82166f2051a14b197b357ee6d8972b9e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_tiny_test_8hpp.html#a5d109af02a7508cb9521a52b864db7c6">EXPECT_NEAR_STL_CONTAINER</a>(A, B, TOL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether two random-access containers A and B contain elements that are approximately equal (within some specified tolerance). Throw a <a class="el" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a> if they don't.  <a href="#a5d109af02a7508cb9521a52b864db7c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_tiny_test_8hpp.html#a16e4cb037161beddc807347a12cd3d8a">EXPECT_NOT_EQUAL</a>(A, B)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macros tests whether A and B are _NOT_ equal. The equality operator must be defined for A and B, but they need not be the same type.  <a href="#a16e4cb037161beddc807347a12cd3d8a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_tiny_test_8hpp.html#adbe3b51bf14b9ed6b3a71c1dfc54d07e">EXPECT_NEAR</a>(A, B, TOL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro tests whether A and B are _almost_ equal. The subtraction operator must be defined, and a tolerance can be specified by the caller. Basically, this is for floating point numbers.  <a href="#adbe3b51bf14b9ed6b3a71c1dfc54d07e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_tiny_test_8hpp.html#a085d4cd46707bbe5680a243d96bc8bce">EXPECT_NEAR_DEF</a>(A, B)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro tests whether A and B are _almost_ equal. The subtraction operator must be defined, and a default tolerance of 1e-20 is allowed. Basically, this is for floating point numbers.  <a href="#a085d4cd46707bbe5680a243d96bc8bce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_tiny_test_8hpp.html#af85758890c99b9f04bf217dde6c5cd69">EXPECT_THROWS</a>(EXCEPTION, FUNC)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This macros tests whether the exception type EXCEPTION is thrown when the function FUNC is run with the arguments ARGS. Note that ARGS can be more than one argument.  <a href="#af85758890c99b9f04bf217dde6c5cd69"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_tiny_test_8hpp.html#a3a8dd86e1cab36109f7149282150152d">TEST</a>(NAME)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the macro that users will employ to define their tests. Each test they define is a sub-class of <a class="el" href="class_test_case.html" title="This class is the base test case class. User defined test cases will extend this class (though they w...">TestCase</a>. We use a little trick here to do automatic test registration. The class has a static member of <a class="el" href="class_test_case_adder.html" title="This is a helper class that facilitates automatic registration of tests. When one of these is constru...">TestCaseAdder</a>, which we initialise when the macro is expanded, passing to it an object constructed from the newly defined test case class. The <a class="el" href="class_test_case_adder.html" title="This is a helper class that facilitates automatic registration of tests. When one of these is constru...">TestCaseAdder</a> then just registers this object with a static test set maintained by the <a class="el" href="class_test_set.html" title="This class defines a Test Set, which is really just a collection of test cases. Uses the factory patt...">TestSet</a> class.  <a href="#a3a8dd86e1cab36109f7149282150152d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a95f4d20d1076552169720531b26407cb"></a><!-- doxytag: member="TinyTest.hpp::vecToString" ref="a95f4d20d1076552169720531b26407cb" args="(std::vector&lt; T &gt; t)" -->
template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><b>TinyTest::vecToString</b> (std::vector&lt; T &gt; t)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee58b749326580020cebdbc3206fe732"></a><!-- doxytag: member="TinyTest.hpp::DEF_TOLERANCE" ref="aee58b749326580020cebdbc3206fe732" args="" -->
static const double&#160;</td><td class="memItemRight" valign="bottom"><b>TinyTest::DEF_TOLERANCE</b> = 1e-20</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This file contains most of the code for TinyTest, including the macros for test definition and condition checking, the classes for automatic test registration and the exceptions. You should include this file at the top of your test suite. </p>
<dl class="author"><dt><b>Authors:</b></dt><dd>Philip J. Uren</dd></dl>
<h2><a class="anchor" id="copyright"></a>
Copyright Details</h2>
<p>Copyright (C) 2014 Philip J. Uren</p>
<p>This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version.</p>
<p>This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA </p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a4dd85142e8955bd0b36801f74aad5224"></a><!-- doxytag: member="TinyTest.hpp::EXPECT_EQUAL" ref="a4dd85142e8955bd0b36801f74aad5224" args="(A, B)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="_tiny_test_8hpp.html#a4dd85142e8955bd0b36801f74aad5224">EXPECT_EQUAL</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (A != B) {                                                       \
    std::stringstream ss;                                             \
    ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_EQUAL failed on comparison of &quot;</span>                     \
       &lt;&lt; A &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; B &lt;&lt; <span class="stringliteral">&quot; on line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="stringliteral">&quot; of &quot;</span>      \
       &lt;&lt; __FILE__;                                                   \
    throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                                \
  }
</pre></div>
<p>Test whether two variables A and B are exactly equal. Throw a <a class="el" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a> if they aren't. </p>
<p>The types of A and B must support !=, but they need not be the same type. </p>

</div>
</div>
<a class="anchor" id="a82166f2051a14b197b357ee6d8972b9e"></a><!-- doxytag: member="TinyTest.hpp::EXPECT_EQUAL_STL_CONTAINER" ref="a82166f2051a14b197b357ee6d8972b9e" args="(A, B)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="_tiny_test_8hpp.html#a82166f2051a14b197b357ee6d8972b9e">EXPECT_EQUAL_STL_CONTAINER</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (A.size() != B.size()) {                                         \
    std::stringstream ss;                                             \
    ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_EQUAL_STL_CONTAINER failed on&quot;</span>                      \
       &lt;&lt; <span class="stringliteral">&quot;comparison of &quot;</span> &lt;&lt; TinyTest::vecToString(A)                \
       &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; TinyTest::vecToString(B) &lt;&lt; <span class="stringliteral">&quot;. &quot;</span>                 \
       &lt;&lt; <span class="stringliteral">&quot;Unequal sizes.&quot;</span>;                                           \
    throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                                \
  }                                                                   \
  for (<span class="keywordtype">size_t</span> i = 0; i &lt; A.size(); ++i) {                             \
    if (A[i] != B[i]) {                                               \
      std::stringstream ss;                                           \
      ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_EQUAL_STL_CONTAINER failed on &quot;</span>                   \
         &lt;&lt; <span class="stringliteral">&quot;comparison of &quot;</span> &lt;&lt; A[i]                                  \
         &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; B[i] &lt;&lt; <span class="stringliteral">&quot;. Full container &quot;</span>                    \
         &lt;&lt; <span class="stringliteral">&quot;contents: &quot;</span> &lt;&lt; TinyTest::vecToString(A)                  \
         &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; TinyTest::vecToString(B);                      \
      throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                              \
    }                                                                 \
  }
</pre></div>
<p>Test whether two random-access containers A and B are equal. Throw a <a class="el" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a> if they aren't. </p>
<p>This will work for any containers where .size() and random access via [] is defined (things like vector, for example). Additionally, the types in A and B must support !=, though they needn't necessarily be the same type.</p>
<p>A and B are equal if they contain the same number of items and each pairwise element comparison with != evaluates to false. </p>

</div>
</div>
<a class="anchor" id="adbe3b51bf14b9ed6b3a71c1dfc54d07e"></a><!-- doxytag: member="TinyTest.hpp::EXPECT_NEAR" ref="adbe3b51bf14b9ed6b3a71c1dfc54d07e" args="(A, B, TOL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="_tiny_test_8hpp.html#adbe3b51bf14b9ed6b3a71c1dfc54d07e">EXPECT_NEAR</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TOL&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (std::fabs(A - B) &gt; TOL) {                                       \
    std::stringstream ss;                                             \
    ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_NEAR failed on comparison of &quot;</span>                      \
       &lt;&lt; A &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; B                                           \
       &lt;&lt; <span class="stringliteral">&quot; with tolerance of &quot;</span> &lt;&lt; TOL;                               \
    throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                                \
  }
</pre></div>
<p>This macro tests whether A and B are _almost_ equal. The subtraction operator must be defined, and a tolerance can be specified by the caller. Basically, this is for floating point numbers. </p>

</div>
</div>
<a class="anchor" id="a085d4cd46707bbe5680a243d96bc8bce"></a><!-- doxytag: member="TinyTest.hpp::EXPECT_NEAR_DEF" ref="a085d4cd46707bbe5680a243d96bc8bce" args="(A, B)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="_tiny_test_8hpp.html#a085d4cd46707bbe5680a243d96bc8bce">EXPECT_NEAR_DEF</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (std::fabs(A - B) &gt; TinyTest::DEF_TOLERANCE) {                   \
    std::stringstream ss;                                             \
    ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_NEAR_DEF failed on comparison of &quot;</span>                  \
       &lt;&lt; A &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; B                                           \
       &lt;&lt; <span class="stringliteral">&quot; with tolerance of &quot;</span> &lt;&lt; TinyTest::DEF_TOLERANCE;           \
    throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                                \
  }
</pre></div>
<p>This macro tests whether A and B are _almost_ equal. The subtraction operator must be defined, and a default tolerance of 1e-20 is allowed. Basically, this is for floating point numbers. </p>

</div>
</div>
<a class="anchor" id="a5d109af02a7508cb9521a52b864db7c6"></a><!-- doxytag: member="TinyTest.hpp::EXPECT_NEAR_STL_CONTAINER" ref="a5d109af02a7508cb9521a52b864db7c6" args="(A, B, TOL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="_tiny_test_8hpp.html#a5d109af02a7508cb9521a52b864db7c6">EXPECT_NEAR_STL_CONTAINER</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TOL&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (A.size() != B.size()) {                                         \
    std::stringstream ss;                                             \
    ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_NEAR_STL_CONTAINER failed on &quot;</span>                      \
       &lt;&lt; <span class="stringliteral">&quot;comparison of &quot;</span> &lt;&lt; TinyTest::vecToString(A)                \
       &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt;  TinyTest::vecToString(B) &lt;&lt; <span class="stringliteral">&quot;. &quot;</span>                \
       &lt;&lt; <span class="stringliteral">&quot;Unequal sizes.&quot;</span>;                                           \
    throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                                \
  }                                                                   \
  for (<span class="keywordtype">size_t</span> i = 0; i &lt; A.size(); ++i) {                             \
    if (std::fabs(A[i] - B[i]) &gt; TOL) {                               \
      std::stringstream ss;                                           \
      ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_NEAR_STL_CONTAINER failed on &quot;</span>                    \
         &lt;&lt; <span class="stringliteral">&quot;comparison of &quot;</span> &lt;&lt; A[i]                                  \
         &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; B[i] &lt;&lt; <span class="stringliteral">&quot; with tolerance of &quot;</span>                  \
         &lt;&lt; TOL &lt;&lt; <span class="stringliteral">&quot;. Full container &quot;</span>                                \
         &lt;&lt; <span class="stringliteral">&quot;contents: &quot;</span> &lt;&lt; TinyTest::vecToString(A)                  \
         &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; TinyTest::vecToString(B);                      \
      throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                              \
    }                                                                 \
  }
</pre></div>
<p>Test whether two random-access containers A and B contain elements that are approximately equal (within some specified tolerance). Throw a <a class="el" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a> if they don't. </p>
<p>This will work for any containers where .size() and random access via [] is defined (things like vector, for example). Additionally, the types in A and B must support the subtraction operator resulting in a type compatible with std::fabs, though they needn't necessarily be the same type. This works well for things like doubles and floats</p>
<p>A and B are 'near equal' if they contain the same number of items and the difference between pairwise elements (evaluated by the - operator) is within the specified tolerance. </p>

</div>
</div>
<a class="anchor" id="a16e4cb037161beddc807347a12cd3d8a"></a><!-- doxytag: member="TinyTest.hpp::EXPECT_NOT_EQUAL" ref="a16e4cb037161beddc807347a12cd3d8a" args="(A, B)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="_tiny_test_8hpp.html#a16e4cb037161beddc807347a12cd3d8a">EXPECT_NOT_EQUAL</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (A == B) {                                                       \
    std::stringstream ss;                                             \
    ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_NOT_EQUAL failed on comparison of &quot;</span>                 \
       &lt;&lt; A &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; B &lt;&lt; <span class="stringliteral">&quot; on line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="stringliteral">&quot; of &quot;</span>      \
       &lt;&lt; __FILE__;                                                   \
    throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                                \
  }
</pre></div>
<p>This macros tests whether A and B are _NOT_ equal. The equality operator must be defined for A and B, but they need not be the same type. </p>

</div>
</div>
<a class="anchor" id="af85758890c99b9f04bf217dde6c5cd69"></a><!-- doxytag: member="TinyTest.hpp::EXPECT_THROWS" ref="af85758890c99b9f04bf217dde6c5cd69" args="(EXCEPTION, FUNC)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="_tiny_test_8hpp.html#af85758890c99b9f04bf217dde6c5cd69">EXPECT_THROWS</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">EXCEPTION, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FUNC&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordtype">bool</span> thrown = <span class="keyword">false</span>;                                                \
  try {                                                               \
    FUNC;                                                             \
  } <span class="keywordflow">catch</span> (EXCEPTION &amp;e) {                                            \
    thrown= <span class="keyword">true</span>;                                                     \
  }                                                                   \
  if (!thrown) {                                                      \
    std::stringstream ss;                                             \
    ss &lt;&lt; <span class="stringliteral">&quot;EXPECT_THROWS failed when running &quot;</span> &lt;&lt; #FUNC &lt;&lt; <span class="stringliteral">&quot;. &quot;</span>       \
       &lt;&lt; #EXCEPTION &lt;&lt; <span class="stringliteral">&quot; was not thrown&quot;</span>;                            \
    throw <a class="code" href="class_tiny_test_exception.html" title="Exceptions of this type are thrown whenever a test fails.">TinyTestException</a>(ss.str());                                \
  }
</pre></div>
<p>This macros tests whether the exception type EXCEPTION is thrown when the function FUNC is run with the arguments ARGS. Note that ARGS can be more than one argument. </p>

</div>
</div>
<a class="anchor" id="a3a8dd86e1cab36109f7149282150152d"></a><!-- doxytag: member="TinyTest.hpp::TEST" ref="a3a8dd86e1cab36109f7149282150152d" args="(NAME)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="_test_tiny_test_8cpp.html#a005a68fad25c34a36a55b4a58bb12554">TEST</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">NAME</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">class </span>NAME : <span class="keyword">public</span> <a class="code" href="class_test_case.html" title="This class is the base test case class. User defined test cases will extend this class (though they w...">TestCase</a> {                                        \
    public:                                                             \
      NAME(<span class="keyword">const</span> std::string&amp; testName) : <a class="code" href="class_test_case.html" title="This class is the base test case class. User defined test cases will extend this class (though they w...">TestCase</a>( testName ) { ; }    \
      virtual <span class="keywordtype">void</span> <a class="code" href="class_test_case.html#a43b85eb7190586a285dde4f870c20d42" title="Run the code for this test. If this method completes without throwing any exceptions the test is cons...">runTest</a>() <span class="keyword">const</span>;                                     \
    private:                                                            \
      static <a class="code" href="class_test_case_adder.html" title="This is a helper class that facilitates automatic registration of tests. When one of these is constru...">TestCaseAdder</a> adder;                                       \
  };                                                                    \
  TestCaseAdder NAME::adder(<span class="keyword">new</span> NAME(#NAME));                           \
  void <a class="code" href="class_test_case.html#a43b85eb7190586a285dde4f870c20d42" title="Run the code for this test. If this method completes without throwing any exceptions the test is cons...">NAME::runTest</a>() const
</pre></div>
<p>This is the macro that users will employ to define their tests. Each test they define is a sub-class of <a class="el" href="class_test_case.html" title="This class is the base test case class. User defined test cases will extend this class (though they w...">TestCase</a>. We use a little trick here to do automatic test registration. The class has a static member of <a class="el" href="class_test_case_adder.html" title="This is a helper class that facilitates automatic registration of tests. When one of these is constru...">TestCaseAdder</a>, which we initialise when the macro is expanded, passing to it an object constructed from the newly defined test case class. The <a class="el" href="class_test_case_adder.html" title="This is a helper class that facilitates automatic registration of tests. When one of these is constru...">TestCaseAdder</a> then just registers this object with a static test set maintained by the <a class="el" href="class_test_set.html" title="This class defines a Test Set, which is really just a collection of test cases. Uses the factory patt...">TestSet</a> class. </p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 2 2014 04:03:24 for TinyTest by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
